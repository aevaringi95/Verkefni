---
title: "Final Project"
author: "Rakel María Brynjólfsdóttir"
date: "March 23, 2018"
output:
  prettydoc::html_pretty:
    theme: cayman
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())
setwd("~/Documents/Hagnýt Gagnagreining/FinalProject")
```

```{r}
library(plyr); library(dplyr)
```


```{r}
data = read.csv("gagnasafn_ibudarhusnaedi.csv", header  = T, sep = ";", dec = ",")
```

We start by removing all the data which is not in the capital region. 

```{r}
capitalArea = c(0000,1000,1100,1300,1400,1604,1606)
data = data[data$svfn %in% capitalArea,]
```

Now we are going to remove the variables that we won't be using
```{r}
names(data)
delete = names(data)[c(1,2,3,5,6,7,10,11,12,13,14,15,17,18,20,21,
                       25,26,38,40,41,42,44,47,50,52,53)]
data = data[,-which(names(data) %in% delete)]
```

```{r}
str(data)
data$svfn = as.factor(data$svfn)
data$lyfta[which(data$lyfta != 0)] = 1
data$lyfta = as.factor(data$lyfta)
data$svalm2 = as.numeric(data$svalm2)
data$matssvaedi = as.factor(data$matssvaedi)
data$undirmatssvaedi = as.factor(data$undirmatssvaedi)
data$ibteg = as.factor(data$ibteg)
cor(data$ibm2,data$ntm2)
data$ntm2 = NULL
data$svfn = revalue(data$svfn, c("0"="Rvk","1000"="Kop","1100"="Sel","1300"="Grb","1400"="Hfj","1604"="Mos","1606"="Kjh"))
```

Check for NA values. 

```{r}
dim(data)
dim(na.omit(data))
```


Eigum við að hafa þessa inni?
rfastnum: id... neei held það þurfi ekki.
kdagur: kaupdagur, ef svo hvernig eigum við að kóða hann? Gætum mögulega breytt þessu i daga siðan hun var keypt. Þ.e.a.s festum bara dagsetningu t.d 1.april og latum hann reikna fjölda daga siðan hun var keypt.
þarf að hafa bæði fjgeym og geymm2? Nei veljum bara annað hvort.
þarf að hafa bæði fjbilsk og bilskurm2? Nei veljum annað hvort.

Sumar gætu virkað sem factor líka held eg.
Eiga eftirfarandi að vera factor eða qauantitative?
byggar: ár byggt quantitative
fjmib: nr of apartments in the building. 1-4 quantitivative
fjhaed: number of floors in property, 1-4 quantitative
fjbilsk: number of garages, 0,1,2,3,4,8  quantitative.
fjbkar: number of bathtubs,0-3 quantitative
fjsturt: 0-4,7,12 quantitative
fjklos: 0-7,12 quantitative
fjeld: 0-4,7,12 quantitative
fjherb: 0-11,13,22,24 quantitative
fjstof: 0-7,11,14 quantitative
fjgeym: 0-8 quantitative
stig10: how far property is in construction stage quantitiative.

Annað:
efstah: 1 if the property is on the top floor, hefur samt gidlir frá 1-13, fjöldi hæða? Jaa mjög spes. Mögulega breyta öllu yfir 1 ´í 1.
lyfta: 1 if there is elevator in the building, 0 if not, hefur samt gildi frá 0-8. Breytti þ.a. bara 0 og 1. 


